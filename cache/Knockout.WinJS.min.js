var WinJS;!function(a){!function(b){function c(c){return a.Utilities.markSupportedForProcessing(function(a,d,e,f){return b.defaultBind(a,d,e,f,c)})}function d(a,b){return c(new A(a,b))}function e(a){return a}function f(c,d,f,g,h,i,j){h=h||e,i=i||e;var k,l=a.Binding.converter(function(c){var d;if(h instanceof A){var e=b.computed(function(){return h.converter(a.Binding.as(c))});d=e.value;var j=h.updater||function(a){x(f,g,a,i)};e.bind("value",j),k=function(){e.unbind("value",j)}}else d=h(c);return i(d)})(c,d,f,g);return j?new z(l,j,k):l}function g(a,b,c,d){return f(a,b,c,["style","display"],d,function(a){return a?"":"none"})}function h(b,c,d,e,g){var h,i=d.winControl;i||"WinJS.KO.FlowControl"!=d.getAttribute("data-win-control")||(i=h=new a.KO.FlowControl(d,{converter:e}));return i?(i.type=g,i.source=b,f(b,c,d,["winControl","data"],void 0,void 0,function(){h&&h.dispose()})):new z}function i(a,b,c,d){return h(a,b,c,d,"foreach")}function j(a,b,c,d){return h(a,b,c,d,"with")}function k(a,b,c,d){return h(a,b,c,d,"if")}function l(a,b,c,d){return h(a,b,c,d,"ifnot")}function m(b,c,d,e,g){function h(a,b){a=a||{};for(var c in a){var d=a[c];"function"==typeof d&&b(c)}}function i(){h(d._winjs_ko_eventBind,function(a){d.removeEventListener(a,j)})}function j(a){var b=d._winjs_ko_eventBind[a.type];!0!==b.apply(k,[k,a])&&a.preventDefault()}var k=D.isObservableDataContext(b)?a.Binding.unwrap(b.$data):b;return f(b,c,d,["_winjs_ko_eventBind"],e,function(a){var b=g(a)||{};return i(),h(b,function(a){d.addEventListener(a,j)}),b},i)}function n(a,b,c,d){return m(a,b,c,d,function(a){return{click:a}})}function o(a,b,c,d){return m(a,b,c,d,function(a){return a})}function p(a,b,c,d){return m(a,b,c,d,function(a){return{submit:a}})}function q(a,b,c,d){return f(a,b,c,["disabled"],d,function(a){return!a})}function r(a,b,c,d){function e(){x(a,b,c.value)}return c.addEventListener("input",e),f(a,b,c,["value"],d,void 0,function(){c.removeEventListener("input",e)})}function s(a,b,c,d){function e(a){return a.ownerDocument.activeElement==a}function g(){x(a,b,e(c))}return c.addEventListener("focus",g),c.addEventListener("blur",g),f(a,b,c,["_winjs_ko_hasFocus"],d,function(a){var b=e(c);return a!=b&&(a?c.focus():c.blur()),a},function(){c.removeEventListener("focus",g),c.removeEventListener("blur",g)})}function t(b,c,d,e){function g(b){return"INPUT"!=d.tagName?!1:"checkbox"==d.type?b instanceof Array||b instanceof a.Binding.List?b.indexOf(d.value)>=0:b:"radio"==d.type?b==d.value:!1}function h(){x(b,c,d.checked,function(b,c){if("checkbox"==d.type&&(c instanceof Array||c instanceof a.Binding.List)){var e=c.indexOf(d.value);return b&&0>e?c.push(d.value):!b&&e>=0&&c.splice(e,1),c}return"radio"==d.type?b?d.value:c==d.value?void 0:c:b})}d.addEventListener("change",h);var i;return f(b,c,d,["checked"],e,function(b){return i&&(b.unbind("_array",i),i=void 0),a.KO.isObservableArray(b)&&(i=function(){d.checked=g(b)},b.bind("_array",i)),g(b)},function(){d.removeEventListener("change",h)})}function u(b,c,d,e){var f=document.createElement("div");f.innerHTML='<option data-win-bind="$option : $data"/>';var g=new a.Binding.Template(f);g.bindingInitializer=a.KO.converter(e);var i=new a.KO.FlowControl(d,{template:g}),j=h(b,c,d,e,"foreach");return new z(j,function(){i.dispose()})}function v(a,b,c,d){function e(a){a&&(c.value=a.value||a.text,c.text=a.text)}return d||(d=function(a){return"string"==typeof a?{value:a,text:a}:{value:a.value,text:a.text}}),f(a,b,c,["_winjs_ko_option"],new A(d,e))}function w(c,d,e){function f(a){for(var b=e.firstElementChild;b;){if("OPTION"==b.tagName){var c=b;c.selected=a.indexOf(c.value)>=0}b=b.nextElementSibling}}function g(){for(var b=[],f=e.firstElementChild;f;){if("OPTION"==f.tagName){var g=f;g.selected&&b.push(g.value)}f=f.nextElementSibling}x(c,d,b,function(b,c){return(c instanceof Array||c instanceof a.Binding.List)&&(c.splice(0,c.length),c.push.apply(c,b)),c})}var h=a.Binding.converter(function(a){b.isObservableArray(a)?a.bind("_array",f):f(a)});e.addEventListener("change",g);var i=h(c,d,e,"_winjs_ko_selectedOptions");return new z(i,function(){e.removeEventListener("change",g)})}function x(a,b,c,d){for(var e=0,f=b.length-1;f>e;e++)if(a=a[b[e]],!a)return;var g=b[b.length-1];d&&(c=d(c,a[g])),a[g]=c}var y={$foreach:i,$if:k,$ifnot:l,$with:j,$event:o,$click:n,$submit:p,$value:r,$checked:t,$hasFocus:s,$selectedOptions:w,$visible:g,$enabled:q,$options:u,$option:v};b.defaultBind=a.Binding.initializer(function(b,c,d,e,f){var g=b;if(e.length>0&&C[c[0]]){var h=D.getDataContextFromElement(d);h&&(g=h)}if(e||1==e.length){var i=e[0];if(y[i])return y[i](g,c,d,f)}return a.Binding.defaultBind(g,c,d,e)});var z=function(){function a(){for(var a=[],b=0;b<arguments.length-0;b++)a[b]=arguments[b+0];this._innerCancelables=a}return a.prototype.cancel=function(){this._innerCancelables&&this._innerCancelables.forEach(function(a){a instanceof Function?a():a&&a.cancel instanceof Function&&a.cancel()})},a}();b.converter=c,b.computedConverter=d;var A=function(){function a(a,b){this.converter=a,this.updater=b}return a}(),B=function(){function b(b,c){function d(b,c){var d=document.createElement("div");d.innerHTML=b.innerHTML;for(var e=b.querySelectorAll("[data-win-bind]"),f=0;f<e.length;f++)e.item(f).attributes.removeNamedItem("data-win-bind");for(;b.hasChildNodes();)b.removeChild(b.lastChild);var g=new a.Binding.Template(d);return g.bindingInitializer=a.KO.converter(c),d.isDeclarativeControlContainer=!0,g}this.dispose=function(){this._disposeChildren()},c=c||{},b.winControl||(this._data=c.data,this._template=c.template||d(b,c.converter),this._type=c.type,this._source=c.source,this.element=b,b.winControl=this,this.reload())}return b.prototype.reload=function(){var b=this,c=function(a,c,d,e){var f=document.createElement("div");if(!a)return f;if(c){var g=D.createObservableDataContext(a,d);arguments.length>=4&&g.addProperty("$index",e),f._winjs_ko_dataContext=g}b._template.render(a,f);var h;return 1==f.childElementCount?(h=f.firstElementChild,f.removeChild(h),h._winjs_ko_dataContext=f._winjs_ko_dataContext):h=f,h._winjs_ko_dispose=function(){f.dispose&&f.dispose()},h},d=function(a,d,e){var f=c(a,d,e);b.element.appendChild(f)};if(this._disposeChildren(),this._template)switch(this._type){case"if":this._data&&d(this._source,!1);break;case"ifnot":this._data||d(this._source,!1);break;case"with":d(this._data,!0,this._source);break;case"foreach":var e=this._source,f=function(d){if(d instanceof Array||d instanceof a.Binding.List){var f=d.map(function(a,d){for(var f=b.element.firstChild;f&&f._winjs_ko_dataItem!=a;)f=f.nextSibling;return f?b.element.removeChild(f):(f=c(a,!0,e,d),f._winjs_ko_dataItem=a),f});b._disposeChildren(),f.forEach(function(a,c){a._winjs_ko_dataContext.$index=c,b.element.appendChild(a)})}};a.KO.isObservableArray(this._data)?this._data.bind("_array",f):f(this._data)}},Object.defineProperty(b.prototype,"data",{get:function(){return this._data},set:function(a){a!==this._data&&(this._data=a,this.reload())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"template",{get:function(){return this._template},set:function(a){a!==this._template&&(this._template=a,this.reload())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"type",{get:function(){return this.type},set:function(a){a!==this._type&&(this._type=a,this.reload())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"source",{get:function(){return this._source},set:function(a){a!==this._source&&(this._source=a,this.reload())},enumerable:!0,configurable:!0}),b.prototype._disposeChildren=function(){for(;this.element.childElementCount>0;){var a=this.element.lastElementChild,b=a._winjs_ko_dispose;"function"==typeof b&&b();var c=a._winjs_ko_dataContext;c&&"function"==typeof c.dispose&&c.dispose(),this.element.removeChild(a)}},b.cctor=function(){a.Utilities.markSupportedForProcessing(b),b.isDeclarativeControlContainer=!0}(),b}();b.FlowControl=B;var C={$parent:!0,$parents:!0,$root:!0,$data:!0,$index:!0,$parentContext:!0,$rawData:!0,$element:!0,$context:!0},D=function(){function c(){}return c.prototype.data=function(b){this.$data=b,this.$rawData=b instanceof a.Binding.List?a.KO.getRawArray(b):a.Binding.unwrap(b)},c.isObservableDataContext=function(b){return b&&a.Binding.unwrap(b)instanceof c},c.getDataContextFromElement=function(a){for(var b=a;b&&!c.isObservableDataContext(b._winjs_ko_dataContext);)b=b.parentElement;return b?b._winjs_ko_dataContext:null},c.createObservableDataContext=function(a,d){var e=new c;e.data(a),d?(e.$parentContexts=[d],e.$parentContext=d):e.$parentContexts=[];var f=b.observable(e);return c.isObservableDataContext(d)?(e.$parentContexts.concat(d.$parentContexts),f.addComputedProperty("$parents",function(){return f.peek("$parentContexts").map(function(a){return a.$data})}),f.addComputedProperty("$parent",function(){return f.peek("$parentContext").$data}),f.addComputedProperty("$root",function(){var a=f.peek("$parentContexts");return a.length>0?a[a.length-1].$data:void 0})):(f.$parents=[d],f.$parent=d,f.$root=d),f},c}();!function(){a.Utilities.markSupportedForProcessing(b.defaultBind)}()}(a.KO||(a.KO={}));a.KO}(WinJS||(WinJS={}));var WinJS;!function(a){!function(b){function c(b){function c(){d=new l;var a=f._array;f._array=e(f),f.notify("_array",f._array,a)}var d,b=b||[],f=new a.Binding.List(b);return f.addEventListener("itemchanged",c),f.addEventListener("iteminserted",c),f.addEventListener("itemmoved",c),f.addEventListener("itemmutated",c),f.addEventListener("itemremoved",c),f.addEventListener("reload",c),f._lastUpdatedStamp=function(){return d},f._array=e(f),Object.defineProperty(f,"array",{get:function(){var a=k.currentContext();return a&&g(f,"_array"),f._array},enumerable:!0,configurable:!0}),f}function d(b){return b instanceof a.Binding.List&&b._array instanceof Array}function e(b){return b instanceof a.Binding.List?b.map(function(a){return a}):void 0}function f(a){a.addComputedProperty=function(a,c,d,e){this.addProperty(a),b.computed(c,d,e,this,a)};var c=a.getProperty;a.getProperty=function(a){return g(this,a),c.call(this,a)};var d=a.updateProperty;a.updateProperty=function(a,b,c){this._lastUpdatedStamp(a,c||l.newStamp()),d.call(this,a,b)};var e=a.setProperty;a.setProperty=function(a,b){var c=this._computedProperty(a);if(c){if(c._computedWriter)return void c._computedWriter(b);throw new Error("Cannot write a value to a computed observable property unless you specify a 'write' option.")}return e.call(this,a,b)},a._removeAllDependencies=function(a){var b=this._computedProperty(a);if(b){var c=b._dependencies||[];c.forEach(function(a){a._observable.unbind(a._propertyName,b._computedUpdater)}),b._dependencies=[]}};var f=a.dispose;a.dispose=function(a){var b=this;if(arguments.length>0){var c=this._computedProperty(a);c&&(c._removeAllDependencies(),c._computedUpdater=null,c._computedWriter=null,delete this._computedProperties[a])}else f&&f.call(this),Object.keys(this).forEach(function(a){b.dispose(a)})},a._lastUpdatedStamps={},a._lastUpdatedStamp=function(a,b){return this._lastUpdatedStamps=this._lastUpdatedStamps||{},1==arguments.length?this._lastUpdatedStamps[a]:void(arguments.length>1&&(this._lastUpdatedStamps[a]=b))},a._computedProperties={},a._computedProperty=function(a){return this._computedProperties[a]},a.peek=function(a){return c.call(this,a)},a.computed=function(a,c,d,e){b.computed(c,d,e,this,a)},a.getDependenciesCount=function(a){var b=this._computedProperty(a);return b&&b._dependencies?b._dependencies.length:0}}function g(a,b){var c=k.currentContext();if(c&&c.type==j.TYPE_COMPUTED_EVALUATIOR){var d=c.observableProperty;if(!d||d._observable===a&&d._propertyName==b)return;var e=d._observable._computedProperty(d._propertyName),f=new h(a,b),g=e._dependencies||[];g.some(function(a){return a===f})||g.push(f),e._dependencies=g}}b.observable=function(b){var c="object"==typeof b?b:new m(b);if(c){var d=a.Binding.as(c);return f(d),d}return c},b.computed=function(a,c,d,e,f){var g=a;if(a&&"object"==typeof a?(d=a||{},g=d.read):(d=d||{},g||(g=d.read)),"function"!=typeof g)throw new Error("Pass a function that returns the value of the computed function.");var m,n;e?(m=e,n=f):(m=b.observable(0),n="value"),c=c||d.owner||m;var o,p=function(){return g.call(c)};m.dispose&&m.dispose(n);var q=new i;m._computedProperties[n]=q;var r=function(){var a=k.currentContext();if(!a||a.type!=j.TYPE_COMPUTED_DEPENDENCY_BIND){q._removeAllDependencies();var b;k.execute(new j(j.TYPE_COMPUTED_EVALUATIOR,new h(m,n)),function(){b=p()});var c=q._dependencies||[];k.execute(new j(j.TYPE_COMPUTED_DEPENDENCY_BIND),function(){c.forEach(function(a){a._observable.bind(a._propertyName,r)})});var d=new l(new Date(0));if(c.forEach(function(a){var b=a._observable._lastUpdatedStamp(a._propertyName);b&&d.lessThan(b)&&(d=b)}),m._lastUpdatedStamp){var e=m._lastUpdatedStamp(n);(!e||e.lessThan(d))&&m.updateProperty(n,b,d)}else m[n]=b;return b}},s=d.write;s&&"function"==typeof s&&(q._computedWriter=function(a){s.call(c,a)}),q._computedUpdater=r,"function"==typeof m._lastUpdatedStamp&&m._lastUpdatedStamp(n,null);r();return m==e?o:m},b.observableArray=c,b.isObservableArray=d,b.getRawArray=e;var h=function(){function a(a,b){this._observable=a,this._propertyName=b}return a}(),i=function(){function a(){this._dependencies=[]}return a.prototype._removeAllDependencies=function(){var a=this._computedUpdater;this._dependencies.forEach(function(b){b._observable.unbind(b._propertyName,a)}),this._dependencies=[]},a}(),j=function(){function a(b,c){this.type=b,b==a.TYPE_COMPUTED_EVALUATIOR?this.observableProperty=c:this.upateStamp=c}return a.TYPE_COMPUTED_EVALUATIOR=0,a.TYPE_COMPUTED_DEPENDENCY_BIND=1,a.TYPE_WRITER_INITIAL_RUN=2,a.COMPUTED_WRITER=3,a}(),k=function(){function a(){}return a.execute=function(b,c){try{var d=a._currentContext;a._currentContext=b,c()}finally{a._currentContext=d}},a.currentContext=function(){return a._currentContext},a.contextStack=[],a}(),l=function(){function a(a,b){this.timeStamp=a||new Date,this.index=b||0}return a.prototype.lessThan=function(a){return this.timeStamp<a.timeStamp||this.timeStamp<a.timeStamp&&this.index<a.index},a.newStamp=function(){var b=new a;return b.timeStamp==a._lastUpdateStamp.timeStamp&&b.index==a._lastUpdateStamp.index+1,a._lastUpdateStamp=new a(b.timeStamp,b.index),b},a._lastUpdateStamp=new a,a}(),m=function(){function a(a){this.value=a}return a}()}(a.KO||(a.KO={}));a.KO}(WinJS||(WinJS={}));